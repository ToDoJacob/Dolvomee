<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="co.yedam.dolvomee.service.review.ReviewMapper">

   <select id="selectReviewList" resultType="co.yedam.dolvomee.service.review.ReviewVO">
      select revnum, servnum, usersemail, usersaddr, usersimage, revcontents , revlike, to_char(writedate, 'YY-MM-DD HH24:MI:SS') as writedate from review order by revnum desc
   </select>
   
   <select id="selectReview" resultType="co.yedam.dolvomee.service.review.ReviewVO">
      select revnum, servnum, usersemail, usersaddr, usersimage, revcontents, revlike, to_char(writedate, '""YYYY"년 "MM"월 "DD"일"') as writedate from review where revnum = #{revNum}
   </select>
   
   <insert id="insertReview">
      insert into review values(#{revNum}, #{servNum}, #{usersEmail}, #{usersAddr}, #{usersImage}, #{revContents}, #{revLike})
   </insert>
   
   <update id="updateReview">
      update review set revcontents = #{revContents}, revlike = #{revLike} where revnum = #{revNum}
   </update>
   
   <delete id="deleteReview">
      delete from review where revnum = #{revNum}
   </delete>

</mapper>